<div class="transfer-container">
  <div>
    <div>Balance: {{ formatMoney(balance) }}</div>
    <div>Account: {{ accountNumber }}</div>
  </div>
  <div>
    <label>Transfer to account</label>
    <input maxlength="7" [(ngModel)]="targetAccountNumber" placeholder="7 digits" />
  </div>
  <div>
    <label>Amount</label>
    <input [(ngModel)]="amount" placeholder="0.00" />
  </div>
  <button (click)="verifyTransfer()" [disabled]="isVerifying">Verify</button>

  <div *ngIf="verifyResult && verifyResult.isValid" class="verify-success">
    <div>
      {{ verifyResult.selfName }}<br>
      {{ verifyResult.selfAccountNumber }}
      <span style="font-weight:bold; margin: 0 10px;">&#8594;</span>
      {{ verifyResult.targetName }}<br>
      {{ verifyResult.targetAccountNumber }}
    </div>
    <div style="text-align:center; font-size:1.2em; margin: 8px 0;">
      {{ formatMoney(verifyResult.amount) }}
    </div>
  </div>
  <div *ngIf="verifyResult && !verifyResult.isValid" class="verify-error" style="color:red;">
    {{ verifyResult.message }}
  </div>
  <div *ngIf="error" style="color:red;">{{ error }}</div>
  <div *ngIf="successMessage" style="color:green;">{{ successMessage }}</div>

  <div>
    <label>PIN</label>
    <input type="password" maxlength="6" [(ngModel)]="pin" [disabled]="!verifyResult?.isValid" />
  </div>
  <button (click)="confirmTransfer()" [disabled]="!verifyResult?.isValid || isTransferring">Confirm</button>
</div>